<div class="min-h-screen font-serif selection:bg-pink-200 relative overflow-x-hidden">

  <div *ngIf="!showSurprise" class="h-screen flex items-center justify-center text-center p-6 transition-all duration-1000">
    <div class="hero-content">
      <div class="text-8xl mb-6 drop-shadow-xl">🎁</div>
      <h1 class="text-6xl md:text-8xl font-black mb-4 bg-gradient-to-r from-pink-600 via-red-500 to-pink-600 bg-clip-text text-transparent drop-shadow-sm">
        Happy Birthday, Babe!
      </h1>
      <p class="text-gray-600 text-xl mb-10 italic font-medium">I have a little surprise for you...</p>
      <button pButton label="Open Your Gift 💖" 
              class="p-button-rounded p-button-danger p-button-lg shadow-2xl px-10 py-4 transform hover:scale-110 transition-transform bg-gradient-to-r from-pink-500 to-red-500 border-none" 
              (click)="revealSurprise()">
      </button>
    </div>
  </div>

  <div *ngIf="showSurprise" class="max-w-4xl mx-auto py-12 px-4 space-y-24 relative z-10">
    
    <div class="reveal-item flex flex-col items-center justify-center pt-10">
      <div class="cake-container relative">
        <div *ngIf="isCandleLit" class="absolute -top-14 left-1/2 -translate-x-1/2 text-4xl animate-bounce">🔥</div>
        <div class="absolute -top-6 left-1/2 -translate-x-1/2 w-3 h-10 bg-gradient-to-t from-pink-400 to-pink-200 rounded-full shadow-sm"></div>
        <div class="w-64 h-40 bg-orange-50/90 backdrop-blur-sm rounded-t-[50px] border-b-[12px] border-pink-400 shadow-2xl flex flex-col items-center justify-center relative overflow-hidden">
            <div class="w-full h-6 bg-pink-100/50 absolute top-10"></div>
            <div class="w-full h-6 bg-pink-100/50 absolute top-24"></div>
            <div class="text-6xl z-10">🎂</div>
        </div>
        <div class="w-72 h-6 bg-white rounded-full shadow-md -mt-1 border-b-4 border-gray-200"></div>
      </div>

      <div class="mt-12 text-center">
        <button *ngIf="isCandleLit" pButton label="Make a Wish & Blow 🌬️" 
                class="p-button-outlined p-button-secondary p-button-rounded px-8 bg-white/50 backdrop-blur-sm shadow-md"
                (click)="blowCandle()">
        </button>
        
        <div *ngIf="cakeBlown" class="wish-card mt-6 space-y-4 max-w-lg mx-auto p-8 bg-white/60 backdrop-blur-lg rounded-[2.5rem] shadow-2xl border border-white/40">
          <h2 class="text-5xl font-black bg-gradient-to-b from-pink-600 to-red-600 bg-clip-text text-transparent">YAYYY!</h2>
          
          <div class="space-y-4 text-gray-800 text-lg leading-relaxed font-semibold">
            <p>"ဒီနေ့ကစပြီး ရှေ့ဆက်မယ့် မင်းရဲ့ဘဝခရီးလမ်းမှာ အမြဲတမ်း ပျော်ရွှင်မှုတွေနဲ့ပဲ ပြည့်နှက်နေပါစေ။"</p>
            <p>"မင်းရဲ့ အပြုံးလေးတွေက ငါ့အတွက်တော့ ဒီကမ္ဘာပေါ်မှာ အလှဆုံးအရာတစ်ခုပဲ။"</p>
            <p class="bg-gradient-to-r from-pink-600 to-red-500 bg-clip-text text-transparent font-black text-xl">"အမြဲတမ်း အနားမှာရှိနေပေးလို့ ကျေးဇူးတင်ပါတယ် Babe... ချစ်တယ်နော်။ ❤️"</p>
          </div>
        </div>
      </div>
    </div>

    <div class="reveal-item">
      <h2 class="text-4xl font-black text-center mb-8 bg-gradient-to-r from-pink-600 to-red-600 bg-clip-text text-transparent">Our Sweetest Moments</h2>
      <p-carousel [value]="photos" [numVisible]="1" [numScroll]="1" [circular]="true" [autoplayInterval]="4000">
        <ng-template let-photo pTemplate="item">
          <div class="relative rounded-[3rem] overflow-hidden shadow-2xl h-[450px] mx-2 border-8 border-white/80">
            <img [src]="photo.image" class="w-full h-full object-cover">
            <div class="absolute bottom-0 w-full bg-gradient-to-t from-black/80 to-transparent p-10">
              <p class="text-white text-2xl font-medium italic drop-shadow-md">{{photo.caption}}</p>
            </div>
          </div>
        </ng-template>
      </p-carousel>
    </div>

    <div class="reveal-item">
      <h2 class="text-3xl font-black text-center mb-12 bg-gradient-to-r from-gray-700 to-gray-900 bg-clip-text text-transparent italic">The Journey of Us</h2>
      <p-timeline [value]="events" align="alternate">
        <ng-template pTemplate="marker" let-event>
          <span class="flex w-14 h-14 items-center justify-center text-white rounded-full shadow-xl transform hover:scale-125 transition-all duration-300" [style.background]="'linear-gradient(135deg,' + event.color + ', #ff9a9e)'">
            <i [class]="event.icon" style="font-size: 1.4rem"></i>
          </span>
        </ng-template>
        <ng-template pTemplate="content" let-event>
          <div class="p-8 bg-white/80 backdrop-blur-md rounded-[2rem] shadow-xl border border-white/50 hover:border-pink-300 transition-all">
            <h4 class="font-black text-2xl bg-gradient-to-r from-pink-600 to-red-500 bg-clip-text text-transparent">{{event.status}}</h4>
            <small class="text-gray-400 font-bold uppercase tracking-widest">{{event.date}}</small>
            <p class="mt-3 text-gray-700 leading-relaxed font-medium">{{event.desc}}</p>
          </div>
        </ng-template>
      </p-timeline>
    </div>

    <div class="reveal-item pb-20">
      <div class="text-center mb-10">
        <h2 class="text-4xl font-black bg-gradient-to-r from-pink-600 to-red-600 bg-clip-text text-transparent mb-2">Exclusive Love Coupons</h2>
        <p class="text-gray-600 font-bold italic">Click to redeem! Valid forever ❤️</p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        @for (coupon of coupons; track coupon.id) {
          <div (click)="redeemCoupon($event, coupon)" 
               class="group cursor-pointer transform hover:-translate-y-3 transition-all duration-500">
            <div [ngClass]="coupon.isRedeemed ? 'bg-gray-200/50 grayscale opacity-60' : 'bg-white/90 backdrop-blur-md'"
                 class="p-8 rounded-[2.5rem] shadow-2xl border-2 border-transparent group-hover:border-pink-400 transition-all flex items-center gap-6">
              <span class="text-7xl group-hover:scale-110 transition-transform duration-500">{{ coupon.isRedeemed ? '✅' : coupon.emoji }}</span>
              <div>
                <h3 class="font-black text-2xl text-gray-800" [class.line-through]="coupon.isRedeemed">{{coupon.title}}</h3>
                <p class="text-gray-600 mt-1 font-semibold leading-tight">{{coupon.description}}</p>
                <p *ngIf="coupon.isRedeemed" class="text-pink-600 font-black mt-2 text-xs uppercase tracking-widest animate-pulse">Coupon Claimed!</p>
              </div>
            </div>
          </div>
        }
      </div>
    </div>

    <footer class="text-center pb-16">
      <div class="h-1 bg-gradient-to-r from-transparent via-pink-400 to-transparent w-48 mx-auto mb-8 opacity-50"></div>
      <p class="text-2xl font-black bg-gradient-to-r from-pink-600 via-red-500 to-pink-600 bg-clip-text text-transparent tracking-widest italic drop-shadow-sm">
        Happy Birthday, My Queen. I Love You Always! ❤️
      </p>
    </footer>

  </div>
</div>